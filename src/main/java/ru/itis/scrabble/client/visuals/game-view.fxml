<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="ru.itis.scrabble.client.visuals.GameController">

    <!-- Верхняя панель: информация о ходе и таймер -->
    <top>
        <VBox spacing="5" style="-fx-background-color: #2E8B57; -fx-padding: 10;">
            <HBox spacing="20" alignment="CENTER">
                <Label fx:id="gameStatusLabel" text="Игра началась" style="-fx-text-fill: white; -fx-font-weight: bold;"/>
                <Label fx:id="roomInfoLabel" text="Комната: " style="-fx-text-fill: white;"/>
            </HBox>

            <HBox spacing="15" alignment="CENTER">
                <Label text="Текущий ход:" style="-fx-text-fill: white;"/>
                <Label fx:id="currentTurnPlayerLabel" text="Игрок 1" style="-fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 16;"/>
                <Label text="Время:" style="-fx-text-fill: white;"/>
                <Label fx:id="timerLabel" text="90" style="-fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 16; -fx-min-width: 30;"/>
                <ProgressBar fx:id="timerProgress" prefWidth="250" progress="1.0"/>
            </HBox>
        </VBox>
    </top>

    <!-- Центр: игровое поле -->
    <center>
        <VBox spacing="20" alignment="CENTER" style="-fx-padding: 20;">

            <!-- Игровое поле 15x15 -->
            <GridPane fx:id="boardGrid" hgap="1" vgap="1" style="-fx-background-color: #8B4513; -fx-padding: 5;">
                <!-- Клетки будут добавлены динамически -->
            </GridPane>

            <!-- Панель управления ходом -->
            <HBox spacing="15" alignment="CENTER">
                <Button fx:id="confirmMoveButton" text="Подтвердить ход (Enter)"
                        style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold;"
                        prefWidth="220"/>
                <Button fx:id="skipTurnButton" text="Пропустить ход"
                        style="-fx-background-color: #2196F3; -fx-text-fill: white;"
                        prefWidth="150"/>
                <Button fx:id="changeTilesButton" text="Поменять буквы"
                        style="-fx-background-color: #9C27B0; -fx-text-fill: white;"
                        prefWidth="150"/>
                <Button fx:id="surrenderButton" text="Сдаться"
                        style="-fx-background-color: #f44336; -fx-text-fill: white;"
                        prefWidth="100"/>
                <Button fx:id="offerDrawButton" text="Предложить ничью"
                        style="-fx-background-color: #FF9800; -fx-text-fill: white;"
                        prefWidth="150"/>
            </HBox>

        </VBox>
    </center>

    <!-- Низ: информация об игроках, буквы и лог -->
    <bottom>
        <VBox spacing="10" style="-fx-padding: 10; -fx-background-color: #F5F5F5;">

            <!-- Панель текущего игрока (себя) -->
            <HBox spacing="30" alignment="CENTER_LEFT" style="-fx-padding: 10;">
                <VBox spacing="5">
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <Label text="Вы:" style="-fx-font-weight: bold;"/>
                        <Label fx:id="myNameLabel" text="Игрок1" style="-fx-font-weight: bold; -fx-text-fill: #2E8B57;"/>
                        <Label fx:id="myScoreLabel" text="0 очков" style="-fx-font-weight: bold;"/>
                        <Label fx:id="myLastMoveLabel" text="Последний ход: 0" style="-fx-text-fill: #666;"/>
                    </HBox>

                    <Label text="Ваши буквы:"/>
                    <HBox fx:id="myTilesContainer" spacing="5" alignment="CENTER" style="-fx-min-height: 50;">
                        <!-- Фишки будут добавлены динамически -->
                    </HBox>
                </VBox>

                <!-- Временная зона для букв на поле (текущий ход) -->
                <VBox spacing="5" style="-fx-padding: 10; -fx-border-color: #999; -fx-border-width: 2; -fx-border-style: dashed;">
                    <Label text="Буквы на поле:" style="-fx-font-weight: bold;"/>
                    <HBox fx:id="currentMoveTilesContainer" spacing="5" alignment="CENTER" style="-fx-min-height: 50; -fx-min-width: 200;">
                        <!-- Буквы текущего хода -->
                    </HBox>
                    <Button fx:id="clearMoveButton" text="Очистить ход"
                            style="-fx-background-color: #9E9E9E; -fx-text-fill: white;"
                            visible="false"/>
                </VBox>
            </HBox>

            <!-- Панель противника -->
            <HBox spacing="30" alignment="CENTER_LEFT" style="-fx-padding: 10; -fx-background-color: #E8E8E8;">
                <VBox spacing="5">
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <Label text="Противник:" style="-fx-font-weight: bold;"/>
                        <Label fx:id="opponentNameLabel" text="Игрок2" style="-fx-font-weight: bold; -fx-text-fill: #2196F3;"/>
                        <Label fx:id="opponentScoreLabel" text="0 очков" style="-fx-font-weight: bold;"/>
                        <Label fx:id="opponentLastMoveLabel" text="Последний ход: 0" style="-fx-text-fill: #666;"/>
                    </HBox>

                    <Label text="Букв у противника:"/>
                    <HBox fx:id="opponentTilesContainer" spacing="5" alignment="CENTER" style="-fx-min-height: 50;">
                        <!-- Плейсхолдеры для букв противника -->
                        <Rectangle width="35" height="35" fill="#CCCCCC" stroke="#999999" strokeWidth="1" style="-fx-arc-width: 5; -fx-arc-height: 5;"/>
                        <Rectangle width="35" height="35" fill="#CCCCCC" stroke="#999999" strokeWidth="1" style="-fx-arc-width: 5; -fx-arc-height: 5;"/>
                        <Rectangle width="35" height="35" fill="#CCCCCC" stroke="#999999" strokeWidth="1" style="-fx-arc-width: 5; -fx-arc-height: 5;"/>
                        <Rectangle width="35" height="35" fill="#CCCCCC" stroke="#999999" strokeWidth="1" style="-fx-arc-width: 5; -fx-arc-height: 5;"/>
                        <Rectangle width="35" height="35" fill="#CCCCCC" stroke="#999999" strokeWidth="1" style="-fx-arc-width: 5; -fx-arc-height: 5;"/>
                        <Rectangle width="35" height="35" fill="#CCCCCC" stroke="#999999" strokeWidth="1" style="-fx-arc-width: 5; -fx-arc-height: 5;"/>
                        <Rectangle width="35" height="35" fill="#CCCCCC" stroke="#999999" strokeWidth="1" style="-fx-arc-width: 5; -fx-arc-height: 5;"/>
                    </HBox>
                </VBox>
            </HBox>

            <!-- Лог игры и общая информация -->
            <HBox spacing="20" alignment="CENTER_LEFT">
                <TextArea fx:id="gameLog" prefHeight="100" editable="false"
                          promptText="Лог игры..." prefWidth="600"/>
                <VBox spacing="8">
                    <Label fx:id="bagCountLabel" text="Осталось букв: 100"/>
                    <Label fx:id="turnCountLabel" text="Ход: 1"/>
                    <Label fx:id="connectedLabel" text="Игроков: 2/2"/>
                    <Button fx:id="exitButton" text="Выйти из игры"
                            style="-fx-background-color: #9E9E9E; -fx-text-fill: white;"/>
                </VBox>
            </HBox>

        </VBox>
    </bottom>
</BorderPane>